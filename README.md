# SplitTypingPlugin

一个模拟人类打字习惯的消息分段发送插件。会根据标点符号和特殊格式自动分段，并模拟真实的打字速度发送消息。

![2893784b8fb06f64e71885043eeb947c](https://github.com/user-attachments/assets/83436b58-84fb-4468-8e5d-0c34bba961db)



## 功能特点

- 自动分段：根据标点符号(。！，等)和特殊格式(括号、数字)自动分段
- 打字机效果：模拟人类打字速度，按字符数计算发送延迟
- 智能分段：超过配置的最大长度将不再分段发送
- 分段开关：支持群聊/私聊分别开启或关闭分段功能
- 消息排队：同一对话中的消息会按顺序发送，不会互相打断

## 安装方法

配置完成 [LangBot](https://github.com/RockChinQ/LangBot) 主程序后使用管理员账号向机器人发送命令即可安装：

```
!plugin get https://github.com/sanxianxiaohuntun/SplitTypingPlugin
```

## 使用说明

### 基础命令
- `/开启分段` - 开启分段发送功能
- `/关闭分段` - 关闭分段发送功能

### 配置文件

插件目录下的 `config.yaml`:

```yaml
# 打字机效果配置
typing_settings:
  # 每个字符的延迟时间（秒）
  char_delay: 0.1
  # 每段之间的额外停顿时间（秒）
  segment_pause: 0.5
  # 最大分段长度，超过此长度将不进行分段
  max_split_length: 50
```

### 分段规则

以下是文本分段的示例:
```
原文: "我是(123)123,1111,2222。3333！"

将被分段为:
1. "我是"
2. "(123)"
3. "123"
4. "1111"
5. "2222"
6. "3333！"
```

## 注意事项

1. 分段功能默认关闭，需要手动开启
2. 群聊和私聊的分段状态是独立的
3. 当消息总长度超过配置的 max_split_length 时，将不会进行分段
4. 打字机延迟基于字符数计算，可以在配置文件中调整延迟参数
5. 同一对话中的消息会自动排队，等待前一条消息发送完成

## 开源协议

MIT License

## 作者

小馄饨
